{"id":"../node_modules/three-stdlib/shaders/BokehShader.js","dependencies":[{"name":"/Users/meenakshigopalakrishnan/portfoliowebsite/node_modules/three-stdlib/shaders/BokehShader.js.map","includedInParent":true,"mtime":1713411650548},{"name":"/Users/meenakshigopalakrishnan/portfoliowebsite/package.json","includedInParent":true,"mtime":1713413468250},{"name":"/Users/meenakshigopalakrishnan/portfoliowebsite/node_modules/three-stdlib/package.json","includedInParent":true,"mtime":1713411650482}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BokehShader = void 0;\nconst BokehShader = {\n  defines: {\n    DEPTH_PACKING: 1,\n    PERSPECTIVE_CAMERA: 1\n  },\n  uniforms: {\n    tColor: {\n      value: null\n    },\n    tDepth: {\n      value: null\n    },\n    focus: {\n      value: 1\n    },\n    aspect: {\n      value: 1\n    },\n    aperture: {\n      value: 0.025\n    },\n    maxblur: {\n      value: 0.01\n    },\n    nearClip: {\n      value: 1\n    },\n    farClip: {\n      value: 1e3\n    }\n  },\n  vertexShader: [\"varying vec2 vUv;\", \"void main() {\", \"\tvUv = uv;\", \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\", \"}\"].join(\"\\n\"),\n  fragmentShader: [\"#include <common>\", \"varying vec2 vUv;\", \"uniform sampler2D tColor;\", \"uniform sampler2D tDepth;\", \"uniform float maxblur;\",\n  // max blur amount\n  \"uniform float aperture;\",\n  // aperture - bigger values for shallower depth of field\n  \"uniform float nearClip;\", \"uniform float farClip;\", \"uniform float focus;\", \"uniform float aspect;\", \"#include <packing>\", \"float getDepth( const in vec2 screenPosition ) {\", \"\t#if DEPTH_PACKING == 1\", \"\treturn unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );\", \"\t#else\", \"\treturn texture2D( tDepth, screenPosition ).x;\", \"\t#endif\", \"}\", \"float getViewZ( const in float depth ) {\", \"\t#if PERSPECTIVE_CAMERA == 1\", \"\treturn perspectiveDepthToViewZ( depth, nearClip, farClip );\", \"\t#else\", \"\treturn orthographicDepthToViewZ( depth, nearClip, farClip );\", \"\t#endif\", \"}\", \"void main() {\", \"\tvec2 aspectcorrect = vec2( 1.0, aspect );\", \"\tfloat viewZ = getViewZ( getDepth( vUv ) );\", \"\tfloat factor = ( focus + viewZ );\",\n  // viewZ is <= 0, so this is a difference equation\n  \"\tvec2 dofblur = vec2 ( clamp( factor * aperture, -maxblur, maxblur ) );\", \"\tvec2 dofblur9 = dofblur * 0.9;\", \"\tvec2 dofblur7 = dofblur * 0.7;\", \"\tvec2 dofblur4 = dofblur * 0.4;\", \"\tvec4 col = vec4( 0.0 );\", \"\tcol += texture2D( tColor, vUv.xy );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur9 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur9 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur9 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur9 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur9 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur9 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur9 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur9 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur7 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur7 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur7 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur7 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur7 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur7 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur7 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur7 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur4 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.4,   0.0  ) * aspectcorrect ) * dofblur4 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur4 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur4 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur4 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur4 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur4 );\", \"\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur4 );\", \"\tgl_FragColor = col / 41.0;\", \"\tgl_FragColor.a = 1.0;\", \"}\"].join(\"\\n\")\n};\nexports.BokehShader = BokehShader;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":28,"column":7},"generated":{"line":7,"column":0}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":7,"column":6}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":7,"column":17}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":28,"column":41},"generated":{"line":7,"column":20}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":29,"column":2},"generated":{"line":8,"column":2}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":29,"column":2},"generated":{"line":8,"column":9}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":29,"column":11},"generated":{"line":8,"column":11}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":9,"column":4}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":9,"column":17}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":30,"column":19},"generated":{"line":9,"column":19}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":30,"column":19},"generated":{"line":9,"column":20}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":10,"column":4}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":10,"column":22}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":31,"column":24},"generated":{"line":10,"column":24}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":11,"column":2}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":11,"column":3}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":12,"column":2}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":12,"column":10}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":34,"column":12},"generated":{"line":12,"column":12}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":13,"column":4}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":13,"column":10}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":35,"column":12},"generated":{"line":13,"column":12}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":35,"column":14},"generated":{"line":14,"column":6}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":35,"column":14},"generated":{"line":14,"column":11}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":35,"column":21},"generated":{"line":14,"column":13}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":35,"column":26},"generated":{"line":15,"column":4}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":35,"column":26},"generated":{"line":15,"column":5}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":36,"column":4},"generated":{"line":16,"column":4}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":36,"column":4},"generated":{"line":16,"column":10}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":36,"column":12},"generated":{"line":16,"column":12}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":36,"column":14},"generated":{"line":17,"column":6}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":36,"column":14},"generated":{"line":17,"column":11}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":36,"column":21},"generated":{"line":17,"column":13}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":36,"column":26},"generated":{"line":18,"column":4}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":36,"column":26},"generated":{"line":18,"column":5}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":37,"column":4},"generated":{"line":19,"column":4}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":37,"column":4},"generated":{"line":19,"column":9}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":37,"column":11},"generated":{"line":19,"column":11}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":37,"column":13},"generated":{"line":20,"column":6}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":37,"column":13},"generated":{"line":20,"column":11}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":37,"column":20},"generated":{"line":20,"column":13}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":37,"column":24},"generated":{"line":21,"column":4}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":37,"column":24},"generated":{"line":21,"column":5}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":22,"column":4}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":22,"column":10}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":38,"column":12},"generated":{"line":22,"column":12}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":38,"column":14},"generated":{"line":23,"column":6}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":38,"column":14},"generated":{"line":23,"column":11}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":38,"column":21},"generated":{"line":23,"column":13}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":38,"column":25},"generated":{"line":24,"column":4}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":38,"column":25},"generated":{"line":24,"column":5}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":25,"column":4}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":25,"column":12}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":39,"column":14},"generated":{"line":25,"column":14}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":39,"column":16},"generated":{"line":26,"column":6}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":39,"column":16},"generated":{"line":26,"column":11}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":39,"column":23},"generated":{"line":26,"column":13}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":39,"column":29},"generated":{"line":27,"column":4}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":39,"column":29},"generated":{"line":27,"column":5}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":28,"column":4}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":28,"column":11}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":28,"column":13}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":40,"column":15},"generated":{"line":29,"column":6}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":40,"column":15},"generated":{"line":29,"column":11}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":40,"column":22},"generated":{"line":29,"column":13}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":40,"column":27},"generated":{"line":30,"column":4}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":40,"column":27},"generated":{"line":30,"column":5}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":31,"column":4}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":31,"column":12}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":41,"column":14},"generated":{"line":31,"column":14}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":41,"column":16},"generated":{"line":32,"column":6}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":41,"column":16},"generated":{"line":32,"column":11}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":41,"column":23},"generated":{"line":32,"column":13}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":41,"column":27},"generated":{"line":33,"column":4}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":41,"column":27},"generated":{"line":33,"column":5}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":34,"column":4}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":34,"column":11}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":42,"column":13},"generated":{"line":34,"column":13}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":42,"column":15},"generated":{"line":35,"column":6}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":42,"column":15},"generated":{"line":35,"column":11}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":42,"column":22},"generated":{"line":35,"column":13}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":42,"column":29},"generated":{"line":36,"column":4}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":43,"column":2},"generated":{"line":37,"column":2}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":43,"column":2},"generated":{"line":37,"column":3}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":45,"column":2},"generated":{"line":38,"column":2}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":45,"column":2},"generated":{"line":38,"column":14}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":45,"column":16},"generated":{"line":38,"column":16}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":38,"column":17}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":38,"column":36}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":38,"column":38}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":38,"column":53}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":50,"column":4},"generated":{"line":38,"column":55}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":50,"column":4},"generated":{"line":38,"column":67}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":38,"column":69}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":38,"column":145}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":38,"column":147}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":38,"column":150}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":38,"column":151}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":38,"column":152}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":38,"column":156}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":54,"column":9},"generated":{"line":38,"column":157}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":54,"column":13},"generated":{"line":38,"column":161}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":54,"column":13},"generated":{"line":38,"column":162}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":56,"column":2},"generated":{"line":39,"column":2}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":56,"column":2},"generated":{"line":39,"column":16}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":56,"column":18},"generated":{"line":39,"column":18}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":57,"column":4},"generated":{"line":39,"column":19}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":57,"column":4},"generated":{"line":39,"column":38}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":59,"column":4},"generated":{"line":39,"column":40}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":59,"column":4},"generated":{"line":39,"column":59}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":61,"column":4},"generated":{"line":39,"column":61}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":61,"column":4},"generated":{"line":39,"column":88}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":62,"column":4},"generated":{"line":39,"column":90}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":62,"column":4},"generated":{"line":39,"column":117}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":64,"column":4},"generated":{"line":39,"column":119}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":64,"column":4},"generated":{"line":39,"column":143}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":64,"column":4},"generated":{"line":40,"column":2}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":65,"column":4},"generated":{"line":41,"column":2}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":65,"column":4},"generated":{"line":41,"column":27}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":65,"column":4},"generated":{"line":42,"column":2}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":67,"column":4},"generated":{"line":43,"column":2}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":67,"column":4},"generated":{"line":43,"column":27}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":43,"column":29}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":43,"column":53}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":70,"column":4},"generated":{"line":43,"column":55}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":70,"column":4},"generated":{"line":43,"column":77}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":71,"column":4},"generated":{"line":43,"column":79}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":71,"column":4},"generated":{"line":43,"column":102}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":73,"column":4},"generated":{"line":43,"column":104}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":73,"column":4},"generated":{"line":43,"column":124}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":75,"column":4},"generated":{"line":43,"column":126}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":75,"column":4},"generated":{"line":43,"column":176}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":76,"column":4},"generated":{"line":43,"column":178}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":76,"column":4},"generated":{"line":43,"column":203}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":43,"column":205}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":43,"column":272}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":78,"column":4},"generated":{"line":43,"column":274}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":78,"column":4},"generated":{"line":43,"column":282}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":79,"column":4},"generated":{"line":43,"column":284}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":79,"column":4},"generated":{"line":43,"column":332}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":80,"column":4},"generated":{"line":43,"column":334}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":80,"column":4},"generated":{"line":43,"column":343}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":43,"column":345}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":43,"column":348}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":83,"column":4},"generated":{"line":43,"column":350}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":83,"column":4},"generated":{"line":43,"column":392}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":84,"column":4},"generated":{"line":43,"column":394}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":84,"column":4},"generated":{"line":43,"column":424}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":85,"column":4},"generated":{"line":43,"column":426}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":85,"column":4},"generated":{"line":43,"column":488}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":86,"column":4},"generated":{"line":43,"column":490}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":86,"column":4},"generated":{"line":43,"column":498}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":87,"column":4},"generated":{"line":43,"column":500}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":87,"column":4},"generated":{"line":43,"column":563}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":88,"column":4},"generated":{"line":43,"column":565}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":88,"column":4},"generated":{"line":43,"column":574}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":89,"column":4},"generated":{"line":43,"column":576}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":89,"column":4},"generated":{"line":43,"column":579}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":91,"column":4},"generated":{"line":43,"column":581}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":91,"column":4},"generated":{"line":43,"column":596}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":93,"column":4},"generated":{"line":43,"column":598}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":93,"column":4},"generated":{"line":43,"column":642}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":95,"column":4},"generated":{"line":43,"column":644}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":95,"column":4},"generated":{"line":43,"column":689}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":97,"column":4},"generated":{"line":43,"column":691}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":97,"column":4},"generated":{"line":43,"column":727}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":97,"column":4},"generated":{"line":44,"column":2}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":99,"column":4},"generated":{"line":45,"column":2}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":99,"column":4},"generated":{"line":45,"column":75}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":101,"column":4},"generated":{"line":45,"column":77}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":101,"column":4},"generated":{"line":45,"column":110}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":102,"column":4},"generated":{"line":45,"column":112}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":102,"column":4},"generated":{"line":45,"column":145}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":103,"column":4},"generated":{"line":45,"column":147}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":103,"column":4},"generated":{"line":45,"column":180}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":105,"column":4},"generated":{"line":45,"column":182}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":105,"column":4},"generated":{"line":45,"column":208}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":107,"column":4},"generated":{"line":45,"column":210}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":107,"column":4},"generated":{"line":45,"column":248}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":108,"column":4},"generated":{"line":45,"column":250}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":108,"column":4},"generated":{"line":45,"column":341}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":109,"column":4},"generated":{"line":45,"column":343}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":109,"column":4},"generated":{"line":45,"column":434}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":110,"column":4},"generated":{"line":45,"column":436}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":110,"column":4},"generated":{"line":45,"column":527}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":111,"column":4},"generated":{"line":45,"column":529}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":111,"column":4},"generated":{"line":45,"column":620}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":112,"column":4},"generated":{"line":45,"column":622}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":112,"column":4},"generated":{"line":45,"column":713}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":113,"column":4},"generated":{"line":45,"column":715}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":113,"column":4},"generated":{"line":45,"column":806}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":114,"column":4},"generated":{"line":45,"column":808}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":114,"column":4},"generated":{"line":45,"column":899}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":45,"column":901}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":45,"column":992}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":116,"column":4},"generated":{"line":45,"column":994}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":116,"column":4},"generated":{"line":45,"column":1085}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":117,"column":4},"generated":{"line":45,"column":1087}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":117,"column":4},"generated":{"line":45,"column":1178}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":118,"column":4},"generated":{"line":45,"column":1180}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":118,"column":4},"generated":{"line":45,"column":1271}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":119,"column":4},"generated":{"line":45,"column":1273}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":119,"column":4},"generated":{"line":45,"column":1364}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":120,"column":4},"generated":{"line":45,"column":1366}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":120,"column":4},"generated":{"line":45,"column":1457}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":121,"column":4},"generated":{"line":45,"column":1459}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":121,"column":4},"generated":{"line":45,"column":1550}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":122,"column":4},"generated":{"line":45,"column":1552}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":122,"column":4},"generated":{"line":45,"column":1643}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":123,"column":4},"generated":{"line":45,"column":1645}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":123,"column":4},"generated":{"line":45,"column":1736}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":125,"column":4},"generated":{"line":45,"column":1738}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":125,"column":4},"generated":{"line":45,"column":1830}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":126,"column":4},"generated":{"line":45,"column":1832}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":126,"column":4},"generated":{"line":45,"column":1924}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":127,"column":4},"generated":{"line":45,"column":1926}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":127,"column":4},"generated":{"line":45,"column":2018}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":128,"column":4},"generated":{"line":45,"column":2020}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":128,"column":4},"generated":{"line":45,"column":2112}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":129,"column":4},"generated":{"line":45,"column":2114}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":129,"column":4},"generated":{"line":45,"column":2206}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":130,"column":4},"generated":{"line":45,"column":2208}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":130,"column":4},"generated":{"line":45,"column":2300}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":131,"column":4},"generated":{"line":45,"column":2302}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":131,"column":4},"generated":{"line":45,"column":2394}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":132,"column":4},"generated":{"line":45,"column":2396}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":132,"column":4},"generated":{"line":45,"column":2488}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":134,"column":4},"generated":{"line":45,"column":2490}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":134,"column":4},"generated":{"line":45,"column":2582}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":135,"column":4},"generated":{"line":45,"column":2584}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":135,"column":4},"generated":{"line":45,"column":2676}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":136,"column":4},"generated":{"line":45,"column":2678}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":136,"column":4},"generated":{"line":45,"column":2770}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":137,"column":4},"generated":{"line":45,"column":2772}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":137,"column":4},"generated":{"line":45,"column":2864}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":138,"column":4},"generated":{"line":45,"column":2866}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":138,"column":4},"generated":{"line":45,"column":2958}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":45,"column":2960}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":45,"column":3052}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":140,"column":4},"generated":{"line":45,"column":3054}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":140,"column":4},"generated":{"line":45,"column":3146}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":141,"column":4},"generated":{"line":45,"column":3148}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":141,"column":4},"generated":{"line":45,"column":3240}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":143,"column":4},"generated":{"line":45,"column":3242}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":143,"column":4},"generated":{"line":45,"column":3334}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":144,"column":4},"generated":{"line":45,"column":3336}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":144,"column":4},"generated":{"line":45,"column":3428}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":145,"column":4},"generated":{"line":45,"column":3430}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":145,"column":4},"generated":{"line":45,"column":3522}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":146,"column":4},"generated":{"line":45,"column":3524}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":146,"column":4},"generated":{"line":45,"column":3616}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":147,"column":4},"generated":{"line":45,"column":3618}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":147,"column":4},"generated":{"line":45,"column":3710}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":148,"column":4},"generated":{"line":45,"column":3712}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":148,"column":4},"generated":{"line":45,"column":3804}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":149,"column":4},"generated":{"line":45,"column":3806}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":149,"column":4},"generated":{"line":45,"column":3898}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":150,"column":4},"generated":{"line":45,"column":3900}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":150,"column":4},"generated":{"line":45,"column":3992}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":152,"column":4},"generated":{"line":45,"column":3994}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":152,"column":4},"generated":{"line":45,"column":4023}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":153,"column":4},"generated":{"line":45,"column":4025}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":153,"column":4},"generated":{"line":45,"column":4049}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":155,"column":4},"generated":{"line":45,"column":4051}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":155,"column":4},"generated":{"line":45,"column":4054}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":155,"column":4},"generated":{"line":45,"column":4055}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":156,"column":4},"generated":{"line":45,"column":4056}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":156,"column":4},"generated":{"line":45,"column":4060}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":156,"column":9},"generated":{"line":45,"column":4061}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":156,"column":13},"generated":{"line":45,"column":4065}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":157,"column":0},"generated":{"line":46,"column":0}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":157,"column":0},"generated":{"line":46,"column":1}},{"source":"../../src/shaders/BokehShader.ts","name":null,"original":{"line":157,"column":0},"generated":{"line":47,"column":0}}],"sources":{"../../src/shaders/BokehShader.ts":"/**\n * Depth-of-field shader with bokeh\n * ported from GLSL shader by Martins Upitis\n * http://artmartinsh.blogspot.com/2010/02/glsl-lens-blur-filter-with-bokeh.html\n */\n\nimport type { IUniform, Texture } from 'three'\nimport type { IShader } from './types'\n\nexport type BokehShaderDefines = {\n  DEPTH_PACKING: number\n  PERSPECTIVE_CAMERA: number\n}\n\nexport type BokehShaderUniforms = {\n  aperture: IUniform<number>\n  aspect: IUniform<number>\n  farClip: IUniform<number>\n  focus: IUniform<number>\n  maxblur: IUniform<number>\n  nearClip: IUniform<number>\n  tColor: IUniform<Texture | null>\n  tDepth: IUniform<Texture | null>\n}\n\nexport interface IBokehShader extends IShader<BokehShaderUniforms, BokehShaderDefines> {}\n\nexport const BokehShader: IBokehShader = {\n  defines: {\n    DEPTH_PACKING: 1,\n    PERSPECTIVE_CAMERA: 1,\n  },\n\n  uniforms: {\n    tColor: { value: null },\n    tDepth: { value: null },\n    focus: { value: 1.0 },\n    aspect: { value: 1.0 },\n    aperture: { value: 0.025 },\n    maxblur: { value: 0.01 },\n    nearClip: { value: 1.0 },\n    farClip: { value: 1000.0 },\n  },\n\n  vertexShader: [\n    'varying vec2 vUv;',\n\n    'void main() {',\n\n    '\tvUv = uv;',\n    '\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );',\n\n    '}',\n  ].join('\\n'),\n\n  fragmentShader: [\n    '#include <common>',\n\n    'varying vec2 vUv;',\n\n    'uniform sampler2D tColor;',\n    'uniform sampler2D tDepth;',\n\n    'uniform float maxblur;', // max blur amount\n    'uniform float aperture;', // aperture - bigger values for shallower depth of field\n\n    'uniform float nearClip;',\n    'uniform float farClip;',\n\n    'uniform float focus;',\n    'uniform float aspect;',\n\n    '#include <packing>',\n\n    'float getDepth( const in vec2 screenPosition ) {',\n    '\t#if DEPTH_PACKING == 1',\n    '\treturn unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );',\n    '\t#else',\n    '\treturn texture2D( tDepth, screenPosition ).x;',\n    '\t#endif',\n    '}',\n\n    'float getViewZ( const in float depth ) {',\n    '\t#if PERSPECTIVE_CAMERA == 1',\n    '\treturn perspectiveDepthToViewZ( depth, nearClip, farClip );',\n    '\t#else',\n    '\treturn orthographicDepthToViewZ( depth, nearClip, farClip );',\n    '\t#endif',\n    '}',\n\n    'void main() {',\n\n    '\tvec2 aspectcorrect = vec2( 1.0, aspect );',\n\n    '\tfloat viewZ = getViewZ( getDepth( vUv ) );',\n\n    '\tfloat factor = ( focus + viewZ );', // viewZ is <= 0, so this is a difference equation\n\n    '\tvec2 dofblur = vec2 ( clamp( factor * aperture, -maxblur, maxblur ) );',\n\n    '\tvec2 dofblur9 = dofblur * 0.9;',\n    '\tvec2 dofblur7 = dofblur * 0.7;',\n    '\tvec2 dofblur4 = dofblur * 0.4;',\n\n    '\tvec4 col = vec4( 0.0 );',\n\n    '\tcol += texture2D( tColor, vUv.xy );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur );',\n\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur9 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur9 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur9 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur9 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur9 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur9 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur9 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur9 );',\n\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur7 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur7 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur7 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur7 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur7 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur7 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur7 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur7 );',\n\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur4 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.4,   0.0  ) * aspectcorrect ) * dofblur4 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur4 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur4 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur4 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur4 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur4 );',\n    '\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur4 );',\n\n    '\tgl_FragColor = col / 41.0;',\n    '\tgl_FragColor.a = 1.0;',\n\n    '}',\n  ].join('\\n'),\n}\n"},"lineCount":null}},"error":null,"hash":"34ed38a203ef5938582c028ee1b8f083","cacheData":{"env":{}}}