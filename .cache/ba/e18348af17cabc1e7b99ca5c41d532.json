{"id":"../node_modules/three-stdlib/shaders/FreiChenShader.js","dependencies":[{"name":"/Users/meenakshigopalakrishnan/portfoliowebsite/node_modules/three-stdlib/shaders/FreiChenShader.js.map","includedInParent":true,"mtime":1713411651202},{"name":"/Users/meenakshigopalakrishnan/portfoliowebsite/package.json","includedInParent":true,"mtime":1713413468250},{"name":"/Users/meenakshigopalakrishnan/portfoliowebsite/node_modules/three-stdlib/package.json","includedInParent":true,"mtime":1713411650482},{"name":"three","loc":{"line":1,"column":24,"index":24},"parent":"/Users/meenakshigopalakrishnan/portfoliowebsite/node_modules/three-stdlib/shaders/FreiChenShader.js","resolved":"/Users/meenakshigopalakrishnan/portfoliowebsite/node_modules/three/build/three.module.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FreiChenShader = void 0;\nvar _three = require(\"three\");\nconst FreiChenShader = {\n  uniforms: {\n    tDiffuse: {\n      value: null\n    },\n    aspect: {\n      value: new _three.Vector2(512, 512)\n    }\n  },\n  vertexShader: [\"varying vec2 vUv;\", \"void main() {\", \"\tvUv = uv;\", \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\", \"}\"].join(\"\\n\"),\n  fragmentShader: [\"uniform sampler2D tDiffuse;\", \"varying vec2 vUv;\", \"uniform vec2 aspect;\", \"vec2 texel = vec2(1.0 / aspect.x, 1.0 / aspect.y);\", \"mat3 G[9];\",\n  // hard coded matrix values!!!! as suggested in https://github.com/neilmendoza/ofxPostProcessing/blob/master/src/EdgePass.cpp#L45\n  \"const mat3 g0 = mat3( 0.3535533845424652, 0, -0.3535533845424652, 0.5, 0, -0.5, 0.3535533845424652, 0, -0.3535533845424652 );\", \"const mat3 g1 = mat3( 0.3535533845424652, 0.5, 0.3535533845424652, 0, 0, 0, -0.3535533845424652, -0.5, -0.3535533845424652 );\", \"const mat3 g2 = mat3( 0, 0.3535533845424652, -0.5, -0.3535533845424652, 0, 0.3535533845424652, 0.5, -0.3535533845424652, 0 );\", \"const mat3 g3 = mat3( 0.5, -0.3535533845424652, 0, -0.3535533845424652, 0, 0.3535533845424652, 0, 0.3535533845424652, -0.5 );\", \"const mat3 g4 = mat3( 0, -0.5, 0, 0.5, 0, 0.5, 0, -0.5, 0 );\", \"const mat3 g5 = mat3( -0.5, 0, 0.5, 0, 0, 0, 0.5, 0, -0.5 );\", \"const mat3 g6 = mat3( 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.6666666865348816, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204 );\", \"const mat3 g7 = mat3( -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, 0.6666666865348816, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408 );\", \"const mat3 g8 = mat3( 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408 );\", \"void main(void)\", \"{\", \"\tG[0] = g0,\", \"\tG[1] = g1,\", \"\tG[2] = g2,\", \"\tG[3] = g3,\", \"\tG[4] = g4,\", \"\tG[5] = g5,\", \"\tG[6] = g6,\", \"\tG[7] = g7,\", \"\tG[8] = g8;\", \"\tmat3 I;\", \"\tfloat cnv[9];\", \"\tvec3 sample;\", /* fetch the 3x3 neighbourhood and use the RGB vector's length as intensity value */\n  \"\tfor (float i=0.0; i<3.0; i++) {\", \"\t\tfor (float j=0.0; j<3.0; j++) {\", \"\t\t\tsample = texture2D(tDiffuse, vUv + texel * vec2(i-1.0,j-1.0) ).rgb;\", \"\t\t\tI[int(i)][int(j)] = length(sample);\", \"\t\t}\", \"\t}\", /* calculate the convolution values for all the masks */\n  \"\tfor (int i=0; i<9; i++) {\", \"\t\tfloat dp3 = dot(G[i][0], I[0]) + dot(G[i][1], I[1]) + dot(G[i][2], I[2]);\", \"\t\tcnv[i] = dp3 * dp3;\", \"\t}\", \"\tfloat M = (cnv[0] + cnv[1]) + (cnv[2] + cnv[3]);\", \"\tfloat S = (cnv[4] + cnv[5]) + (cnv[6] + cnv[7]) + (cnv[8] + M);\", \"\tgl_FragColor = vec4(vec3(sqrt(M/S)), 1.0);\", \"}\"].join(\"\\n\")\n};\nexports.FreiChenShader = FreiChenShader;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":10,"column":7},"generated":{"line":8,"column":0}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":8,"column":6}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":8,"column":20}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":10,"column":30},"generated":{"line":8,"column":23}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":9,"column":2}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":9,"column":10}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":11,"column":12},"generated":{"line":9,"column":12}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":12,"column":4},"generated":{"line":10,"column":4}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":12,"column":4},"generated":{"line":10,"column":12}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":12,"column":14},"generated":{"line":10,"column":14}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":12,"column":16},"generated":{"line":11,"column":6}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":12,"column":16},"generated":{"line":11,"column":11}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":12,"column":23},"generated":{"line":11,"column":13}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":12,"column":28},"generated":{"line":12,"column":4}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":12,"column":28},"generated":{"line":12,"column":5}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":13,"column":4}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":13,"column":10}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":13,"column":12},"generated":{"line":13,"column":12}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":13,"column":14},"generated":{"line":14,"column":6}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":13,"column":14},"generated":{"line":14,"column":11}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":13,"column":21},"generated":{"line":14,"column":13}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":13,"column":25},"generated":{"line":14,"column":17}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":13,"column":25},"generated":{"line":14,"column":31}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":13,"column":33},"generated":{"line":14,"column":32}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":13,"column":33},"generated":{"line":14,"column":35}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":13,"column":38},"generated":{"line":14,"column":37}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":13,"column":41},"generated":{"line":14,"column":40}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":13,"column":43},"generated":{"line":15,"column":4}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":16,"column":2}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":16,"column":3}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":16,"column":2},"generated":{"line":17,"column":2}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":16,"column":2},"generated":{"line":17,"column":14}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":16,"column":16},"generated":{"line":17,"column":16}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":17,"column":4},"generated":{"line":17,"column":17}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":17,"column":4},"generated":{"line":17,"column":36}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":17,"column":38}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":17,"column":53}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":17,"column":55}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":17,"column":67}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":17,"column":69}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":17,"column":145}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":17,"column":147}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":17,"column":150}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":17,"column":151}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":17,"column":152}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":17,"column":156}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":25,"column":9},"generated":{"line":17,"column":157}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":25,"column":13},"generated":{"line":17,"column":161}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":25,"column":13},"generated":{"line":17,"column":162}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":18,"column":2}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":18,"column":16}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":27,"column":18},"generated":{"line":18,"column":18}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":18,"column":19}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":18,"column":48}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":18,"column":50}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":18,"column":69}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":18,"column":71}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":18,"column":93}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":18,"column":95}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":18,"column":147}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":18,"column":149}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":18,"column":161}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":19,"column":2}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":20,"column":2}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":20,"column":129}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":20,"column":131}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":20,"column":258}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":20,"column":260}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":20,"column":387}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":20,"column":389}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":20,"column":516}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":20,"column":518}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":20,"column":580}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":20,"column":582}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":20,"column":644}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":20,"column":646}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":20,"column":855}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":20,"column":857}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":20,"column":1066}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":47,"column":4},"generated":{"line":20,"column":1068}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":47,"column":4},"generated":{"line":20,"column":1273}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":49,"column":4},"generated":{"line":20,"column":1275}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":49,"column":4},"generated":{"line":20,"column":1292}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":50,"column":4},"generated":{"line":20,"column":1294}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":50,"column":4},"generated":{"line":20,"column":1297}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":20,"column":1299}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":20,"column":1312}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":20,"column":1314}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":20,"column":1327}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":20,"column":1329}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":20,"column":1342}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":55,"column":4},"generated":{"line":20,"column":1344}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":55,"column":4},"generated":{"line":20,"column":1357}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":56,"column":4},"generated":{"line":20,"column":1359}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":56,"column":4},"generated":{"line":20,"column":1372}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":57,"column":4},"generated":{"line":20,"column":1374}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":57,"column":4},"generated":{"line":20,"column":1387}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":20,"column":1389}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":20,"column":1402}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":59,"column":4},"generated":{"line":20,"column":1404}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":59,"column":4},"generated":{"line":20,"column":1417}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":60,"column":4},"generated":{"line":20,"column":1419}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":60,"column":4},"generated":{"line":20,"column":1432}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":62,"column":4},"generated":{"line":20,"column":1434}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":62,"column":4},"generated":{"line":20,"column":1444}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":63,"column":4},"generated":{"line":20,"column":1446}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":63,"column":4},"generated":{"line":20,"column":1462}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":64,"column":4},"generated":{"line":20,"column":1464}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":64,"column":4},"generated":{"line":20,"column":1479}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":64,"column":4},"generated":{"line":20,"column":1481}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":67,"column":4},"generated":{"line":21,"column":2}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":67,"column":4},"generated":{"line":21,"column":36}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":21,"column":38}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":21,"column":73}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":21,"column":75}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":21,"column":147}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":70,"column":4},"generated":{"line":21,"column":149}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":70,"column":4},"generated":{"line":21,"column":189}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":71,"column":4},"generated":{"line":21,"column":191}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":71,"column":4},"generated":{"line":21,"column":196}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":21,"column":198}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":21,"column":202}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":21,"column":204}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":75,"column":4},"generated":{"line":22,"column":2}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":75,"column":4},"generated":{"line":22,"column":30}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":76,"column":4},"generated":{"line":22,"column":32}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":76,"column":4},"generated":{"line":22,"column":109}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":22,"column":111}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":22,"column":134}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":78,"column":4},"generated":{"line":22,"column":136}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":78,"column":4},"generated":{"line":22,"column":140}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":80,"column":4},"generated":{"line":22,"column":142}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":80,"column":4},"generated":{"line":22,"column":193}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":22,"column":195}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":22,"column":261}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":83,"column":4},"generated":{"line":22,"column":263}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":83,"column":4},"generated":{"line":22,"column":308}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":84,"column":4},"generated":{"line":22,"column":310}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":84,"column":4},"generated":{"line":22,"column":313}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":84,"column":4},"generated":{"line":22,"column":314}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":85,"column":4},"generated":{"line":22,"column":315}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":85,"column":4},"generated":{"line":22,"column":319}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":85,"column":9},"generated":{"line":22,"column":320}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":85,"column":13},"generated":{"line":22,"column":324}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":86,"column":0},"generated":{"line":23,"column":0}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":86,"column":0},"generated":{"line":23,"column":1}},{"source":"../../src/shaders/FreiChenShader.ts","name":null,"original":{"line":86,"column":0},"generated":{"line":24,"column":0}}],"sources":{"../../src/shaders/FreiChenShader.ts":"import { Vector2 } from 'three'\n\n/**\n * Edge Detection Shader using Frei-Chen filter\n * Based on http://rastergrid.com/blog/2011/01/frei-chen-edge-detector\n *\n * aspect: vec2 of (1/width, 1/height)\n */\n\nexport const FreiChenShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    aspect: { value: new Vector2(512, 512) },\n  },\n\n  vertexShader: [\n    'varying vec2 vUv;',\n\n    'void main() {',\n\n    '\tvUv = uv;',\n    '\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );',\n\n    '}',\n  ].join('\\n'),\n\n  fragmentShader: [\n    'uniform sampler2D tDiffuse;',\n    'varying vec2 vUv;',\n\n    'uniform vec2 aspect;',\n\n    'vec2 texel = vec2(1.0 / aspect.x, 1.0 / aspect.y);',\n\n    'mat3 G[9];',\n\n    // hard coded matrix values!!!! as suggested in https://github.com/neilmendoza/ofxPostProcessing/blob/master/src/EdgePass.cpp#L45\n\n    'const mat3 g0 = mat3( 0.3535533845424652, 0, -0.3535533845424652, 0.5, 0, -0.5, 0.3535533845424652, 0, -0.3535533845424652 );',\n    'const mat3 g1 = mat3( 0.3535533845424652, 0.5, 0.3535533845424652, 0, 0, 0, -0.3535533845424652, -0.5, -0.3535533845424652 );',\n    'const mat3 g2 = mat3( 0, 0.3535533845424652, -0.5, -0.3535533845424652, 0, 0.3535533845424652, 0.5, -0.3535533845424652, 0 );',\n    'const mat3 g3 = mat3( 0.5, -0.3535533845424652, 0, -0.3535533845424652, 0, 0.3535533845424652, 0, 0.3535533845424652, -0.5 );',\n    'const mat3 g4 = mat3( 0, -0.5, 0, 0.5, 0, 0.5, 0, -0.5, 0 );',\n    'const mat3 g5 = mat3( -0.5, 0, 0.5, 0, 0, 0, 0.5, 0, -0.5 );',\n    'const mat3 g6 = mat3( 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.6666666865348816, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204 );',\n    'const mat3 g7 = mat3( -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, 0.6666666865348816, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408 );',\n    'const mat3 g8 = mat3( 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408 );',\n\n    'void main(void)',\n    '{',\n\n    '\tG[0] = g0,',\n    '\tG[1] = g1,',\n    '\tG[2] = g2,',\n    '\tG[3] = g3,',\n    '\tG[4] = g4,',\n    '\tG[5] = g5,',\n    '\tG[6] = g6,',\n    '\tG[7] = g7,',\n    '\tG[8] = g8;',\n\n    '\tmat3 I;',\n    '\tfloat cnv[9];',\n    '\tvec3 sample;',\n\n    /* fetch the 3x3 neighbourhood and use the RGB vector's length as intensity value */\n    '\tfor (float i=0.0; i<3.0; i++) {',\n    '\t\tfor (float j=0.0; j<3.0; j++) {',\n    '\t\t\tsample = texture2D(tDiffuse, vUv + texel * vec2(i-1.0,j-1.0) ).rgb;',\n    '\t\t\tI[int(i)][int(j)] = length(sample);',\n    '\t\t}',\n    '\t}',\n\n    /* calculate the convolution values for all the masks */\n    '\tfor (int i=0; i<9; i++) {',\n    '\t\tfloat dp3 = dot(G[i][0], I[0]) + dot(G[i][1], I[1]) + dot(G[i][2], I[2]);',\n    '\t\tcnv[i] = dp3 * dp3;',\n    '\t}',\n\n    '\tfloat M = (cnv[0] + cnv[1]) + (cnv[2] + cnv[3]);',\n    '\tfloat S = (cnv[4] + cnv[5]) + (cnv[6] + cnv[7]) + (cnv[8] + M);',\n\n    '\tgl_FragColor = vec4(vec3(sqrt(M/S)), 1.0);',\n    '}',\n  ].join('\\n'),\n}\n"},"lineCount":null}},"error":null,"hash":"02632b0dffd3de593b88780df52261a9","cacheData":{"env":{}}}